{"version":3,"file":"bomb.js","sources":["pages/game/bomb.vue","pages/game/bomb.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"page-container\">\n      <!-- Ê†áÈ¢òÂå∫Âüü -->\n      <view class=\"game-header\">\n        <text class=\"title neon-text\">ÁÇ∏ÂºπÊ∏∏Êàè</text>\n        <text class=\"subtitle glow-text\">‰πùÂÆ´Ê†º ÁîüÊ≠ªÂ±Ä</text>\n      </view>\n      \n      <view class=\"game-container\">\n        <!-- Ê∏∏ÊàèÁä∂ÊÄÅÊòæÁ§∫ -->\n        <view class=\"result neon-text\" :class=\"{ 'danger': isDanger }\">\n          {{ resultText }}\n        </view>\n        \n        <!-- ‰πùÂÆ´Ê†ºÂå∫Âüü -->\n        <view class=\"grid-container glow-effect\">\n          <view \n            v-for=\"(cell, index) in grid\" \n            :key=\"index\"\n            class=\"grid-cell\"\n            :class=\"{\n              'revealed': cell.isRevealed,\n              'bomb': cell.isRevealed && cell.hasBomb,\n              'safe': cell.isRevealed && !cell.hasBomb\n            }\"\n            @tap=\"revealCell(index)\"\n          >\n            <text v-if=\"cell.isRevealed\" class=\"cell-content\">\n              {{ cell.hasBomb ? 'üí£' : '‚ú®' }}\n            </text>\n          </view>\n        </view>\n        \n        <!-- ÊåâÈíÆÂå∫Âüü -->\n        <view class=\"button-container\">\n          <view class=\"neon-button info\" @tap=\"showBombSelector\">\n            {{ bombCount }}È¢óÁÇ∏Âºπ\n          </view>\n          <view class=\"neon-button danger\" @tap=\"resetGame\">\n            ÈáçÊñ∞ÂºÄÂßã\n          </view>\n        </view>\n      </view>\n  \n      <!-- ÁÇ∏ÂºπÊï∞ÈáèÈÄâÊã©ÂºπÁ™ó -->\n      <view class=\"modal\" v-if=\"showBombOptions\">\n        <view class=\"modal-content\">\n          <text class=\"modal-title neon-text\">ÈÄâÊã©ÁÇ∏ÂºπÊï∞Èáè</text>\n          <view class=\"modal-options-container\">\n            <view class=\"options-row\">\n              <view \n                v-for=\"n in 3\" \n                :key=\"n\" \n                class=\"modal-option\"\n                :class=\"{ 'active': bombCount === n }\"\n                @tap=\"selectBombCount(n)\"\n              >\n                {{ n }}\n              </view>\n            </view>\n            <view class=\"options-row\">\n              <view \n                v-for=\"n in 3\" \n                :key=\"n + 3\" \n                class=\"modal-option\"\n                :class=\"{ 'active': bombCount === (n + 3) }\"\n                @tap=\"selectBombCount(n + 3)\"\n              >\n                {{ n + 3 }}\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        grid: Array(9).fill().map(() => ({\n          hasBomb: false,\n          isRevealed: false\n        })),\n        bombCount: 2,\n        showBombOptions: false,\n        resultText: 'ÂáÜÂ§áÂºÄÂßãÊ∏∏Êàè',\n        isDanger: false,\n        isGameOver: false\n      }\n    },\n    \n    mounted() {\n      this.initGame()\n    },\n    \n    methods: {\n      initGame() {\n        // ÈáçÁΩÆ‰πùÂÆ´Ê†º\n        this.grid = Array(9).fill().map(() => ({\n          hasBomb: false,\n          isRevealed: false\n        }))\n        \n        // ÈöèÊú∫ÊîæÁΩÆÁÇ∏Âºπ\n        let remainingBombs = this.bombCount\n        let availablePositions = Array.from({length: 9}, (_, i) => i)\n        \n        while (remainingBombs > 0) {\n          const randomIndex = Math.floor(Math.random() * availablePositions.length)\n          const position = availablePositions[randomIndex]\n          this.grid[position].hasBomb = true\n          availablePositions.splice(randomIndex, 1)\n          remainingBombs--\n        }\n        \n        this.resultText = 'ÂáÜÂ§áÂºÄÂßãÊ∏∏Êàè'\n        this.isDanger = false\n        this.isGameOver = false\n      },\n      \n      async revealCell(index) {\n        if (this.isGameOver || this.grid[index].isRevealed) return\n        \n        this.grid[index].isRevealed = true\n        \n        if (this.grid[index].hasBomb) {\n          // ÁÇ∏ÂºπÁàÜÁÇ∏ÊïàÊûú\n          uni.vibrateLong()\n          this.resultText = 'üí• ÁàÜÁÇ∏ÔºÅÂñù‰∏ÄÊùØÔºÅ'\n          this.isDanger = true\n          this.isGameOver = true\n          \n          // ÊòæÁ§∫ÊâÄÊúâÁÇ∏Âºπ\n          this.revealAllBombs()\n        } else {\n          // ÂÆâÂÖ®Ê†ºÂ≠êÊïàÊûú\n          uni.vibrateShort()\n          \n          // Ê£ÄÊü•ÊòØÂê¶Ëé∑ËÉú\n          const unrevealedSafeCells = this.grid.filter(\n            cell => !cell.isRevealed && !cell.hasBomb\n          ).length\n          \n          if (unrevealedSafeCells === 0) {\n            this.resultText = 'üéâ ÊÅ≠ÂñúËé∑ËÉúÔºÅ'\n            this.isGameOver = true\n          } else {\n            this.resultText = '‚úÖ ÂÆâÂÖ®ÔºÅÁªßÁª≠ÔΩû'\n          }\n        }\n      },\n      \n      revealAllBombs() {\n        this.grid.forEach(cell => {\n          if (cell.hasBomb) {\n            cell.isRevealed = true\n          }\n        })\n      },\n      \n      showBombSelector() {\n        if (!this.isGameOver) {\n          this.showBombOptions = true\n        }\n      },\n      \n      selectBombCount(count) {\n        if (count >= 1 && count <= 6) {\n          this.bombCount = count\n          this.showBombOptions = false\n          this.initGame()\n        }\n      },\n      \n      resetGame() {\n        this.initGame()\n      }\n    }\n  }\n  </script>\n  \n  <style>\n  /* Â§çÁî®Â∑¶ËΩÆÊ∏∏ÊàèÁöÑÂü∫Á°ÄÊ†∑Âºè */\n  .page-container {\n    width: 100vw;\n    height: 100vh;\n    background: linear-gradient(to bottom, #0D0D2B 0%, #1A1A3A 100%);\n    position: relative;\n    overflow: hidden;\n  }\n  \n  .page-container::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: radial-gradient(circle at center, transparent 0%, #0D0D2B 70%);\n    animation: pulse 4s ease-in-out infinite;\n    z-index: 0;\n  }\n  \n  .game-header {\n    text-align: center;\n    padding-top: 80rpx;\n    margin-bottom: 40rpx;\n    position: relative;\n    z-index: 1;\n  }\n  \n  .title {\n    font-size: 48rpx;\n    margin-bottom: 10rpx;\n    font-weight: bold;\n  }\n  \n  .neon-text {\n    color: #fff;\n    text-shadow: 0 0 5px #fff,\n                 0 0 10px #fff,\n                 0 0 20px #ff00de,\n                 0 0 30px #ff00de,\n                 0 0 40px #ff00de;\n    animation: neon 1.5s ease-in-out infinite alternate;\n  }\n  \n  .subtitle {\n    font-size: 28rpx;\n    color: #00f7ff;\n    margin-top: 10rpx;\n  }\n  \n  .game-container {\n    width: 100%;\n    height: calc(100vh - 200rpx);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n    z-index: 1;\n  }\n  \n  /* ‰πùÂÆ´Ê†ºÊ†∑Âºè */\n  .grid-container {\n    width: 600rpx;\n    height: 600rpx;\n    position: relative;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 20rpx;\n    padding: 20rpx;\n    margin-bottom: 40rpx;\n    background: rgba(26, 26, 58, 0.95);\n    border-radius: 20rpx;\n    border: 2px solid #ff00de;\n    box-shadow: 0 0 30px rgba(255, 0, 222, 0.3),\n                inset 0 0 20px rgba(255, 0, 222, 0.2);\n  }\n  \n  .grid-cell {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(0, 247, 255, 0.1);\n    border: 2px solid #00f7ff;\n    border-radius: 10rpx;\n    box-shadow: 0 0 10px rgba(0, 247, 255, 0.3);\n    transition: all 0.3s ease;\n    font-size: 60rpx;\n  }\n  \n  .grid-cell.revealed {\n    transform: rotateY(180deg);\n  }\n  \n  .grid-cell.bomb {\n    border-color: #ff0000;\n    background: rgba(255, 0, 0, 0.2);\n    box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);\n  }\n  \n  .grid-cell.safe {\n    border-color: #00ff00;\n    background: rgba(0, 255, 0, 0.1);\n    box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);\n  }\n  \n  .cell-content {\n    animation: fadeIn 0.3s ease;\n  }\n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  \n  /* ÁªìÊûúÊòæÁ§∫Ê†∑Âºè */\n  .result {\n    font-size: 36rpx;\n    margin: 40rpx 0;\n    text-align: center;\n    min-height: 50rpx;\n  }\n  \n  .result.danger {\n    color: #ff0000;\n    text-shadow: 0 0 5px #ff0000,\n                 0 0 10px #ff0000,\n                 0 0 20px #ff0000;\n  }\n  \n  /* ÊåâÈíÆÊ†∑Âºè */\n  .button-container {\n    display: flex;\n    justify-content: center;\n    gap: 40rpx;\n    margin-top: 40rpx;\n  }\n  \n  .neon-button {\n    background: transparent;\n    border: 2px solid #00f7ff;\n    color: #00f7ff;\n    padding: 20rpx 60rpx;\n    font-size: 32rpx;\n    border-radius: 50rpx;\n    text-transform: uppercase;\n    font-weight: bold;\n    box-shadow: 0 0 10px #00f7ff,\n                inset 0 0 10px #00f7ff;\n    transition: all 0.3s ease;\n  }\n  \n  .neon-button.danger {\n    border-color: #ff00de;\n    color: #ff00de;\n    box-shadow: 0 0 10px #ff00de,\n                inset 0 0 10px #ff00de;\n  }\n  \n  .neon-button.info {\n    border-color: #00f7ff;\n    color: #00f7ff;\n    box-shadow: 0 0 10px #00f7ff,\n                inset 0 0 10px #00f7ff;\n  }\n  \n  .neon-button.disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n  \n  .neon-button:active {\n    transform: scale(0.95);\n  }\n  \n  /* ÂºπÁ™óÊ†∑Âºè */\n  .modal {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(13, 13, 43, 0.95);\n    backdrop-filter: blur(10px);\n    z-index: 99999;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    animation: modalFadeIn 0.3s ease;\n  }\n  \n  .modal-content {\n    background: rgba(26, 26, 58, 0.95);\n    border-radius: 30rpx;\n    padding: 60rpx 40rpx;\n    width: 85%;\n    max-width: 600rpx;\n    border: 2px solid #ff00de;\n    box-shadow: 0 0 30px rgba(255, 0, 222, 0.3),\n                inset 0 0 20px rgba(255, 0, 222, 0.2);\n  }\n  \n  .modal-title {\n    text-align: center;\n    margin-bottom: 50rpx;\n    font-size: 36rpx;\n    font-weight: bold;\n    color: #fff;\n    text-shadow: 0 0 5px #fff,\n                 0 0 10px #fff,\n                 0 0 20px #ff00de,\n                 0 0 30px #ff00de;\n  }\n  \n  .modal-options-container {\n    display: flex;\n    flex-direction: column;\n    gap: 40rpx;\n  }\n  \n  .options-row {\n    display: flex;\n    justify-content: center;\n    gap: 60rpx;\n  }\n  \n  .modal-option {\n    width: 100rpx;\n    height: 100rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 2px solid #00f7ff;\n    border-radius: 50%;\n    color: #00f7ff;\n    font-size: 36rpx;\n    font-weight: bold;\n    background: rgba(0, 247, 255, 0.1);\n    box-shadow: 0 0 15px rgba(0, 247, 255, 0.3);\n    transition: all 0.3s ease;\n  }\n  \n  .modal-option:active {\n    transform: scale(0.95);\n  }\n  \n  .modal-option.active {\n    border-color: #ff00de;\n    color: #ff00de;\n    box-shadow: 0 0 20px #ff00de;\n  }\n  \n  @keyframes modalFadeIn {\n    from {\n      opacity: 0;\n      transform: scale(0.95);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n  \n  @keyframes pulse {\n    0% { opacity: 0.5; }\n    50% { opacity: 0.8; }\n    100% { opacity: 0.5; }\n  }\n  \n  @keyframes neon {\n    from {\n      text-shadow: 0 0 5px #fff,\n                   0 0 10px #fff,\n                   0 0 20px #ff00de,\n                   0 0 30px #ff00de;\n    }\n    to {\n      text-shadow: 0 0 5px #fff,\n                   0 0 10px #fff,\n                   0 0 20px #ff00de,\n                   0 0 30px #ff00de,\n                   0 0 40px #ff00de;\n    }\n  }\n  </style>","import MiniProgramPage from '/Users/weitao/Desktop/ThinGift/drink-app/pages/game/bomb.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA8EE,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,MAAM,MAAM,CAAC,EAAE,KAAM,EAAC,IAAI,OAAO;AAAA,QAC/B,SAAS;AAAA,QACT,YAAY;AAAA,MACd,EAAE;AAAA,MACF,WAAW;AAAA,MACX,iBAAiB;AAAA,MACjB,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,YAAY;AAAA,IACd;AAAA,EACD;AAAA,EAED,UAAU;AACR,SAAK,SAAS;AAAA,EACf;AAAA,EAED,SAAS;AAAA,IACP,WAAW;AAET,WAAK,OAAO,MAAM,CAAC,EAAE,KAAI,EAAG,IAAI,OAAO;AAAA,QACrC,SAAS;AAAA,QACT,YAAY;AAAA,MACd,EAAE;AAGF,UAAI,iBAAiB,KAAK;AAC1B,UAAI,qBAAqB,MAAM,KAAK,EAAC,QAAQ,EAAC,GAAG,CAAC,GAAG,MAAM,CAAC;AAE5D,aAAO,iBAAiB,GAAG;AACzB,cAAM,cAAc,KAAK,MAAM,KAAK,OAAO,IAAI,mBAAmB,MAAM;AACxE,cAAM,WAAW,mBAAmB,WAAW;AAC/C,aAAK,KAAK,QAAQ,EAAE,UAAU;AAC9B,2BAAmB,OAAO,aAAa,CAAC;AACxC;AAAA,MACF;AAEA,WAAK,aAAa;AAClB,WAAK,WAAW;AAChB,WAAK,aAAa;AAAA,IACnB;AAAA,IAED,MAAM,WAAW,OAAO;AACtB,UAAI,KAAK,cAAc,KAAK,KAAK,KAAK,EAAE;AAAY;AAEpD,WAAK,KAAK,KAAK,EAAE,aAAa;AAE9B,UAAI,KAAK,KAAK,KAAK,EAAE,SAAS;AAE5BA,sBAAAA,MAAI,YAAY;AAChB,aAAK,aAAa;AAClB,aAAK,WAAW;AAChB,aAAK,aAAa;AAGlB,aAAK,eAAe;AAAA,aACf;AAELA,sBAAAA,MAAI,aAAa;AAGjB,cAAM,sBAAsB,KAAK,KAAK;AAAA,UACpC,UAAQ,CAAC,KAAK,cAAc,CAAC,KAAK;AAAA,QACpC,EAAE;AAEF,YAAI,wBAAwB,GAAG;AAC7B,eAAK,aAAa;AAClB,eAAK,aAAa;AAAA,eACb;AACL,eAAK,aAAa;AAAA,QACpB;AAAA,MACF;AAAA,IACD;AAAA,IAED,iBAAiB;AACf,WAAK,KAAK,QAAQ,UAAQ;AACxB,YAAI,KAAK,SAAS;AAChB,eAAK,aAAa;AAAA,QACpB;AAAA,OACD;AAAA,IACF;AAAA,IAED,mBAAmB;AACjB,UAAI,CAAC,KAAK,YAAY;AACpB,aAAK,kBAAkB;AAAA,MACzB;AAAA,IACD;AAAA,IAED,gBAAgB,OAAO;AACrB,UAAI,SAAS,KAAK,SAAS,GAAG;AAC5B,aAAK,YAAY;AACjB,aAAK,kBAAkB;AACvB,aAAK,SAAS;AAAA,MAChB;AAAA,IACD;AAAA,IAED,YAAY;AACV,WAAK,SAAS;AAAA,IAChB;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnLF,GAAG,WAAW,eAAe;"}